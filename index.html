<html>

<head>
    <link rel="stylesheet" href="style.css">
    <script src="calc.js" async="async"></script>
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <title>CWDT Build Calculators</title>
</head>

<body>
    <h1>3.26 CWDT Build Calculators</h1>

    <div class="container">
        <div class="calcbox">
            <h2>Loop Calculator</h2>
            <form id="loopForm">
                <label for="forbiddenRite">Using Forbidden Rite</label>
                <input type="radio" name="forbiddenRite" value="1" checked="checked">Yes</input>
                <input type="radio" name="forbiddenRite" value="0">No</input>
                <br />
                <label for="life">Life</label>
                <input type="number" name="life" value="2500" min="50">
                <br />
                <label for="energyShield">Energy Shield</label>
                <input type="number" name="energyShield" value="0" min="0">
                <br />
                <label for="chaosRes">Chaos Resistance</label>
                <input type="number" name="chaosRes" value="-10" min="-200" max="90">
                <br />
                <label for="ringCount">Heartbound Loop rings</label>
                <input type="radio" name="ringCount" value="2" checked="checked">Two</input>
                <input type="radio" name="ringCount" value="1">One</input>
                <br />

                <label for="ringDamage">Heartbound Ring Damage</label>
                <input type="number" name="ringDamage" value="420" min="350" max="420">
                <br />

                <label for="SummonSkeletonLevel">Skeleton Level(After +1/+2)</label>
                <input type="number" name="SummonSkeletonLevel" value="11" min="1" max="31">
                <br />

                <label for="CWDTLevel">Body CWDT Level(After +1/+2)</label>
                <input type="number" name="CWDTLevel" value="20" min="1" max="30">
                <br />

                <label for="CWDTQuality">Body CWDT Quality</label>
                <input type="number" name="CWDTQuality" value="20" min="0" max="20">
                <br />

                <label for="ward">Ward With Flask On</label>
                <input type="number" name="ward" value="1100" min="0">
                <br />

                <br />
                <div>
                    <span>Skeleton Damage</span>
                    <span id="skelDamage">computing..</span>
                    (<span id="skelDamage2"></span> x <span id="skelDamage3"></span>)
                </div>
                <div>
                    <span>Forbidden Rite Damage</span>
                    <span id="frDamage">computing..</span>
                </div>
                <div>
                    <span>Total Damage</span>
                    <span id="totalDamage">computing..</span>
                    (<span id="totalDamage2"></span> required)
                </div>
                <br />
                <div>
                    <span class="statusLabel">Loop Status</span>
                    <span id="status">computing..</span>
                </div>
                <div>
                    <span>Health lost per loop</span>
                    <span id="healthlost">computing..</span>
                </div>
                <div>
                    <span>Safe %inc dmg taken</span>
                    <span id="incDmgTaken">computing..</span>
                </div>
            </form>
        </div>
        <div class="calcbox">
            <h2>Flask Calculator</h2>
            <form id="flaskForm">
                <label for="ascCharges">Ascendancy</label>
                <input type="radio" name="ascCharges" value="3" checked="checked">Scion/PF</input>
                <input type="radio" name="ascCharges" value="0">Others</input>
                <br />

                <label for="flaskCount">Flasks</label>
                <input type="radio" name="flaskCount" value="2">2</input>
                <input type="radio" name="flaskCount" value="3" checked="checked">3</input>
                <input type="radio" name="flaskCount" value="4">4</input>
                <input type="radio" name="flaskCount" value="5">5</input>
                <br />

                <label for="Body Armour Flask Charges">Body Armour Flask Charges</label>
                <input type="number" name="charms" value="1" min="0">
                <br />

                <label for="charges">Flask Charges Gained</label>
                <input type="number" name="charges" value="95" min="0">
                <br />

                <label for="duration">Flask Duration</label>
                <input type="number" name="duration" value="110" min="0">
                <br />

                <label for="reduced">Reduced Flask Charges Used</label>
                <input type="number" name="reduced" value="0" min="0" max="99">
                <br />

                <label for="olduration">Olroth's Flask Duration</label>
                <input type="number" name="olduration" value="4.8" step="0.1" min="0.1">
                <br />

                <label for="olused">Olroth's Charges Consumed</label>
                <input type="number" name="olused" value="56" min="1">
                <br />

                <label for="olmaxcharges">Olroth's Max Charges</label>
                <input type="number" name="olmaxcharges" value="60" min="15">
                <br />

                <label for="flaskenchant">Enchantment</label>
                <select name="flaskenchant" value="end">
                    <option value="0">Reuse at end of effect</option>
                    <option value="1">Use when charges full</option>
                </select>
                <br />

                <br />
                <div>
                    <span class="statusLabel">Flask Status</span>
                    <span id="fstatus">computing..</span>
                </div>
                <div>
                    <span class="flaskCoeff">Flask Uptime (approx)</span>
                    <span id="fuptime">computing..</span>
                </div>

            </form>
        </div>
    </div>

    <div class="info">
        <b>Health Lost per loop</b>
        <br />
        <br />
        If any part of your self damage is greater than your Ward, then don't use Mind Over Matter or you'll run out of
        mana. You cannot run less recovery map mods. It does not break the build, but you have to be careful.
        <br />
        <br />
        You can adjust the damage taken from Forbidden Rite by adjusting your chaos resistance or your life.
        <br />
        <br />
        <b>Safe %inc dmg taken</b>
        <br />
        <br />
        This is the amount of <i>#% increased damage taken</i> modifiers you can suffer without losing health from your
        self damage. If this number is low (or monsters keep killing you), mitigate Shocks and Curses as explained in
        the guide.
        <br />
        <br />
        <b>Cast when Damage Taken gem levels and quality</b>
        <br />
        <br />
        If any CwDT gem has a higher effective level or lower quality than the gem in your body armour, repeat the
        calculation for both gems.
        <br />
        <br />
        The CwDT gem linked to Forbidden Rite does not take damage from Forbidden Rite (it is on cooldown when the
        damage happens). It must be low enough to be triggered by Skeleton damage alone.
        <br />
        <br />
        <b>About Flasks</b>
        <br />
        <br />
        The flask status is based on a simulation. We do not know the exact internal rounding used by PoE for flask
        duration and flask charges, but otherwise the simulation should be accurate.
        <br />
        <br />
        The flask uptime is an approximation, comparing average flask charges gained with flask charges spent. Numbers
        above 100% are possible.
        <br />
        <br />
        You can find your flasks stats in your character sheet. Press C and go to Misc Tab. Even though the form says
        Olroth's, the formulas work for other flasks as well.
    </div>

</body>

</html>